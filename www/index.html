<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript" src="d3/d3.js"></script>
    <script type="text/javascript" src="d3/d3.csv.js"></script>
    <script type="text/javascript" src="d3/d3.time.js"></script>
    <style>
             html,body,.parent{height: 100%; overflow: hidden;}
            .title{position: absolute; top: 0; left: 0; right: 0; height: 0; background-color: white; height: 80px; overflow: hidden;}
            .title p{position: absolute; bottom: 6px; left: 30px; height: 0;font-family:verdana;color: #7092be;font-weight:bold;font-size: 180%;}
            .top{position: absolute; top: 80px; left: 30px; right: 30px; height: 0; background-color: #7092be; height: 2px;}
            .left{position: absolute; top: 100px; left: 0;bottom: 30px; width: 800px; background-color: white;}
            .right{position: absolute; top: 100px; left: 800px; right: 0; bottom: 30px; background-color: white; overflow: hidden;}
            .bottom{position: absolute; left: 0; right: 0; bottom: 0; height: 30px; background-color: white;}
            .inner-left{ height: 25%; width: 800px; background-color: #white;}
            .halfhour {
              fill: #eeeeee;
              stroke: #ffffff;
              stroke-width: 3px;
              stroke-opacity: .1;
            }
            .alevel0{fill: #eeeeee}
            .alevel1{fill: #d6e685}
            .alevel2{fill: #8cc665}
            .alevel3{fill: #44a340}
            .alevel4{fill: #1e6823}

    </style>
</head>

<body>
    <div class="parent">
        <div class="title">
            <p>LAN-Monitor</p>
        </div>
        <div class="top"></div>
        <div class="left">
            <div class="inner-left" id='user-calendar0'></div>
            <div class="inner-left" id='user-calendar1'></div>
            <div class="inner-left" id='user-calendar2'></div>
            <div class="inner-left" id='user-calendar3'></div>
        </div>
        <div class="right"></div>
        <div class="bottom"></div>
    </div>
</body>

<script type="text/javascript">

var m = [29, 20, 20, 19], // top right bottom left margin
    w = 800 - m[1] - m[3], // width
    h = 150 - m[0] - m[2], // height
    z = 12; // cell size
    cz = 10;
    lp = 20; //leftpadding 
    tp = 20; //toppadding

var day = d3.time.format("%w"),
    week = d3.time.format("%U"),
    percent = d3.format(".1%"),
    formatDate = d3.time.format("%Y-%m-%d"),
    formatNumber = d3.format(",d"),
    formatPercent = d3.format("+.1%");

var day = function(inputdate){
    return Math.floor(inputdate/48) + 1
}

var halfhour = function(inputdate){
    return inputdate%48
}


var dataset = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 4, 3, 3, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 3, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 7, 0, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 3, 7, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

var dataset2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]

var dicdata = {"216": {"t": "2017-02-17 12:00:00", "v": 0}, "217": {"t": "2017-02-17 12:30:00", "v": 0}, "214": {"t": "2017-02-17 11:00:00", "v": 0}, "215": {"t": "2017-02-17 11:30:00", "v": 0}, "212": {"t": "2017-02-17 10:00:00", "v": 0}, "213": {"t": "2017-02-17 10:30:00", "v": 0}, "210": {"t": "2017-02-17 09:00:00", "v": 0}, "211": {"t": "2017-02-17 09:30:00", "v": 0}, "165": {"t": "2017-02-16 10:30:00", "v": 0}, "312": {"t": "2017-02-19 12:00:00", "v": 29}, "264": {"t": "2017-02-18 12:00:00", "v": 57}, "265": {"t": "2017-02-18 12:30:00", "v": 55}, "218": {"t": "2017-02-17 13:00:00", "v": 0}, "219": {"t": "2017-02-17 13:30:00", "v": 0}, "133": {"t": "2017-02-15 18:30:00", "v": 0}, "132": {"t": "2017-02-15 18:00:00", "v": 0}, "131": {"t": "2017-02-15 17:30:00", "v": 0}, "130": {"t": "2017-02-15 17:00:00", "v": 0}, "137": {"t": "2017-02-15 20:30:00", "v": 0}, "136": {"t": "2017-02-15 20:00:00", "v": 0}, "135": {"t": "2017-02-15 19:30:00", "v": 0}, "134": {"t": "2017-02-15 19:00:00", "v": 0}, "139": {"t": "2017-02-15 21:30:00", "v": 0}, "138": {"t": "2017-02-15 21:00:00", "v": 0}, "166": {"t": "2017-02-16 11:00:00", "v": 0}, "24": {"t": "2017-02-13 12:00:00", "v": 0}, "25": {"t": "2017-02-13 12:30:00", "v": 0}, "26": {"t": "2017-02-13 13:00:00", "v": 0}, "27": {"t": "2017-02-13 13:30:00", "v": 0}, "20": {"t": "2017-02-13 10:00:00", "v": 0}, "21": {"t": "2017-02-13 10:30:00", "v": 0}, "22": {"t": "2017-02-13 11:00:00", "v": 0}, "23": {"t": "2017-02-13 11:30:00", "v": 0}, "160": {"t": "2017-02-16 08:00:00", "v": 0}, "28": {"t": "2017-02-13 14:00:00", "v": 0}, "29": {"t": "2017-02-13 14:30:00", "v": 0}, "161": {"t": "2017-02-16 08:30:00", "v": 0}, "289": {"t": "2017-02-19 00:30:00", "v": 110}, "0": {"t": "2017-02-13 00:00:00", "v": 0}, "4": {"t": "2017-02-13 02:00:00", "v": 0}, "281": {"t": "2017-02-18 20:30:00", "v": 102}, "8": {"t": "2017-02-13 04:00:00", "v": 0}, "283": {"t": "2017-02-18 21:30:00", "v": 103}, "163": {"t": "2017-02-16 09:30:00", "v": 0}, "285": {"t": "2017-02-18 22:30:00", "v": 118}, "284": {"t": "2017-02-18 22:00:00", "v": 115}, "287": {"t": "2017-02-18 23:30:00", "v": 91}, "286": {"t": "2017-02-18 23:00:00", "v": 115}, "119": {"t": "2017-02-15 11:30:00", "v": 0}, "331": {"t": "2017-02-19 21:30:00", "v": 0}, "258": {"t": "2017-02-18 09:00:00", "v": 8}, "120": {"t": "2017-02-15 12:00:00", "v": 0}, "121": {"t": "2017-02-15 12:30:00", "v": 0}, "122": {"t": "2017-02-15 13:00:00", "v": 0}, "123": {"t": "2017-02-15 13:30:00", "v": 0}, "124": {"t": "2017-02-15 14:00:00", "v": 0}, "125": {"t": "2017-02-15 14:30:00", "v": 0}, "126": {"t": "2017-02-15 15:00:00", "v": 0}, "127": {"t": "2017-02-15 15:30:00", "v": 0}, "128": {"t": "2017-02-15 16:00:00", "v": 0}, "129": {"t": "2017-02-15 16:30:00", "v": 0}, "269": {"t": "2017-02-18 14:30:00", "v": 58}, "268": {"t": "2017-02-18 14:00:00", "v": 59}, "167": {"t": "2017-02-16 11:30:00", "v": 0}, "118": {"t": "2017-02-15 11:00:00", "v": 0}, "59": {"t": "2017-02-14 05:30:00", "v": 0}, "58": {"t": "2017-02-14 05:00:00", "v": 0}, "55": {"t": "2017-02-14 03:30:00", "v": 0}, "54": {"t": "2017-02-14 03:00:00", "v": 0}, "57": {"t": "2017-02-14 04:30:00", "v": 0}, "56": {"t": "2017-02-14 04:00:00", "v": 0}, "51": {"t": "2017-02-14 01:30:00", "v": 0}, "50": {"t": "2017-02-14 01:00:00", "v": 0}, "53": {"t": "2017-02-14 02:30:00", "v": 0}, "52": {"t": "2017-02-14 02:00:00", "v": 0}, "259": {"t": "2017-02-18 09:30:00", "v": 18}, "298": {"t": "2017-02-19 05:00:00", "v": 6}, "299": {"t": "2017-02-19 05:30:00", "v": 17}, "276": {"t": "2017-02-18 18:00:00", "v": 29}, "297": {"t": "2017-02-19 04:30:00", "v": 9}, "294": {"t": "2017-02-19 03:00:00", "v": 8}, "295": {"t": "2017-02-19 03:30:00", "v": 2}, "292": {"t": "2017-02-19 02:00:00", "v": 7}, "293": {"t": "2017-02-19 02:30:00", "v": 9}, "290": {"t": "2017-02-19 01:00:00", "v": 34}, "291": {"t": "2017-02-19 01:30:00", "v": 12}, "164": {"t": "2017-02-16 10:00:00", "v": 0}, "146": {"t": "2017-02-16 01:00:00", "v": 0}, "319": {"t": "2017-02-19 15:30:00", "v": 0}, "318": {"t": "2017-02-19 15:00:00", "v": 0}, "199": {"t": "2017-02-17 03:30:00", "v": 0}, "179": {"t": "2017-02-16 17:30:00", "v": 0}, "200": {"t": "2017-02-17 04:00:00", "v": 0}, "195": {"t": "2017-02-17 01:30:00", "v": 0}, "194": {"t": "2017-02-17 01:00:00", "v": 0}, "197": {"t": "2017-02-17 02:30:00", "v": 0}, "178": {"t": "2017-02-16 17:00:00", "v": 0}, "191": {"t": "2017-02-16 23:30:00", "v": 0}, "144": {"t": "2017-02-16 00:00:00", "v": 0}, "193": {"t": "2017-02-17 00:30:00", "v": 0}, "192": {"t": "2017-02-17 00:00:00", "v": 0}, "115": {"t": "2017-02-15 09:30:00", "v": 0}, "114": {"t": "2017-02-15 09:00:00", "v": 0}, "88": {"t": "2017-02-14 20:00:00", "v": 0}, "89": {"t": "2017-02-14 20:30:00", "v": 0}, "111": {"t": "2017-02-15 07:30:00", "v": 0}, "110": {"t": "2017-02-15 07:00:00", "v": 0}, "113": {"t": "2017-02-15 08:30:00", "v": 0}, "112": {"t": "2017-02-15 08:00:00", "v": 0}, "82": {"t": "2017-02-14 17:00:00", "v": 0}, "83": {"t": "2017-02-14 17:30:00", "v": 0}, "80": {"t": "2017-02-14 16:00:00", "v": 0}, "81": {"t": "2017-02-14 16:30:00", "v": 0}, "86": {"t": "2017-02-14 19:00:00", "v": 0}, "87": {"t": "2017-02-14 19:30:00", "v": 0}, "84": {"t": "2017-02-14 18:00:00", "v": 0}, "85": {"t": "2017-02-14 18:30:00", "v": 0}, "251": {"t": "2017-02-18 05:30:00", "v": 20}, "304": {"t": "2017-02-19 08:00:00", "v": 32}, "198": {"t": "2017-02-17 03:00:00", "v": 0}, "256": {"t": "2017-02-18 08:00:00", "v": 15}, "206": {"t": "2017-02-17 07:00:00", "v": 0}, "226": {"t": "2017-02-17 17:00:00", "v": 0}, "257": {"t": "2017-02-18 08:30:00", "v": 5}, "3": {"t": "2017-02-13 01:30:00", "v": 0}, "177": {"t": "2017-02-16 16:30:00", "v": 0}, "254": {"t": "2017-02-18 07:00:00", "v": 45}, "7": {"t": "2017-02-13 03:30:00", "v": 0}, "247": {"t": "2017-02-18 03:30:00", "v": 3}, "273": {"t": "2017-02-18 16:30:00", "v": 22}, "255": {"t": "2017-02-18 07:30:00", "v": 57}, "308": {"t": "2017-02-19 10:00:00", "v": 69}, "309": {"t": "2017-02-19 10:30:00", "v": 53}, "300": {"t": "2017-02-19 06:00:00", "v": 28}, "301": {"t": "2017-02-19 06:30:00", "v": 28}, "302": {"t": "2017-02-19 07:00:00", "v": 5}, "303": {"t": "2017-02-19 07:30:00", "v": 14}, "225": {"t": "2017-02-17 16:30:00", "v": 0}, "305": {"t": "2017-02-19 08:30:00", "v": 81}, "306": {"t": "2017-02-19 09:00:00", "v": 64}, "307": {"t": "2017-02-19 09:30:00", "v": 59}, "245": {"t": "2017-02-18 02:30:00", "v": 0}, "244": {"t": "2017-02-18 02:00:00", "v": 6}, "108": {"t": "2017-02-15 06:00:00", "v": 0}, "109": {"t": "2017-02-15 06:30:00", "v": 0}, "241": {"t": "2017-02-18 00:30:00", "v": 17}, "240": {"t": "2017-02-18 00:00:00", "v": 71}, "243": {"t": "2017-02-18 01:30:00", "v": 1}, "242": {"t": "2017-02-18 01:00:00", "v": 1}, "102": {"t": "2017-02-15 03:00:00", "v": 0}, "103": {"t": "2017-02-15 03:30:00", "v": 0}, "100": {"t": "2017-02-15 02:00:00", "v": 0}, "101": {"t": "2017-02-15 02:30:00", "v": 0}, "106": {"t": "2017-02-15 05:00:00", "v": 0}, "107": {"t": "2017-02-15 05:30:00", "v": 0}, "104": {"t": "2017-02-15 04:00:00", "v": 0}, "105": {"t": "2017-02-15 04:30:00", "v": 0}, "39": {"t": "2017-02-13 19:30:00", "v": 0}, "38": {"t": "2017-02-13 19:00:00", "v": 0}, "201": {"t": "2017-02-17 04:30:00", "v": 0}, "296": {"t": "2017-02-19 04:00:00", "v": 5}, "33": {"t": "2017-02-13 16:30:00", "v": 0}, "32": {"t": "2017-02-13 16:00:00", "v": 0}, "31": {"t": "2017-02-13 15:30:00", "v": 0}, "30": {"t": "2017-02-13 15:00:00", "v": 0}, "37": {"t": "2017-02-13 18:30:00", "v": 0}, "36": {"t": "2017-02-13 18:00:00", "v": 0}, "35": {"t": "2017-02-13 17:30:00", "v": 0}, "34": {"t": "2017-02-13 17:00:00", "v": 0}, "246": {"t": "2017-02-18 03:00:00", "v": 1}, "310": {"t": "2017-02-19 11:00:00", "v": 68}, "316": {"t": "2017-02-19 14:00:00", "v": 0}, "282": {"t": "2017-02-18 21:00:00", "v": 51}, "252": {"t": "2017-02-18 06:00:00", "v": 4}, "205": {"t": "2017-02-17 06:30:00", "v": 0}, "223": {"t": "2017-02-17 15:30:00", "v": 0}, "334": {"t": "2017-02-19 23:00:00", "v": 0}, "176": {"t": "2017-02-16 16:00:00", "v": 0}, "330": {"t": "2017-02-19 21:00:00", "v": 0}, "333": {"t": "2017-02-19 22:30:00", "v": 0}, "332": {"t": "2017-02-19 22:00:00", "v": 0}, "60": {"t": "2017-02-14 06:00:00", "v": 0}, "61": {"t": "2017-02-14 06:30:00", "v": 0}, "62": {"t": "2017-02-14 07:00:00", "v": 0}, "63": {"t": "2017-02-14 07:30:00", "v": 0}, "64": {"t": "2017-02-14 08:00:00", "v": 0}, "65": {"t": "2017-02-14 08:30:00", "v": 0}, "66": {"t": "2017-02-14 09:00:00", "v": 0}, "67": {"t": "2017-02-14 09:30:00", "v": 0}, "68": {"t": "2017-02-14 10:00:00", "v": 0}, "69": {"t": "2017-02-14 10:30:00", "v": 0}, "175": {"t": "2017-02-16 15:30:00", "v": 0}, "174": {"t": "2017-02-16 15:00:00", "v": 0}, "173": {"t": "2017-02-16 14:30:00", "v": 0}, "172": {"t": "2017-02-16 14:00:00", "v": 0}, "171": {"t": "2017-02-16 13:30:00", "v": 0}, "170": {"t": "2017-02-16 13:00:00", "v": 0}, "203": {"t": "2017-02-17 05:30:00", "v": 0}, "222": {"t": "2017-02-17 15:00:00", "v": 0}, "288": {"t": "2017-02-19 00:00:00", "v": 118}, "181": {"t": "2017-02-16 18:30:00", "v": 0}, "253": {"t": "2017-02-18 06:30:00", "v": 5}, "248": {"t": "2017-02-18 04:00:00", "v": 0}, "182": {"t": "2017-02-16 19:00:00", "v": 0}, "183": {"t": "2017-02-16 19:30:00", "v": 0}, "180": {"t": "2017-02-16 18:00:00", "v": 0}, "2": {"t": "2017-02-13 01:00:00", "v": 0}, "162": {"t": "2017-02-16 09:00:00", "v": 0}, "187": {"t": "2017-02-16 21:30:00", "v": 0}, "184": {"t": "2017-02-16 20:00:00", "v": 0}, "6": {"t": "2017-02-13 03:00:00", "v": 0}, "220": {"t": "2017-02-17 14:00:00", "v": 0}, "186": {"t": "2017-02-16 21:00:00", "v": 0}, "188": {"t": "2017-02-16 22:00:00", "v": 0}, "189": {"t": "2017-02-16 22:30:00", "v": 0}, "311": {"t": "2017-02-19 11:30:00", "v": 47}, "202": {"t": "2017-02-17 05:00:00", "v": 0}, "313": {"t": "2017-02-19 12:30:00", "v": 41}, "196": {"t": "2017-02-17 02:00:00", "v": 0}, "221": {"t": "2017-02-17 14:30:00", "v": 0}, "317": {"t": "2017-02-19 14:30:00", "v": 0}, "185": {"t": "2017-02-16 20:30:00", "v": 0}, "271": {"t": "2017-02-18 15:30:00", "v": 44}, "315": {"t": "2017-02-19 13:30:00", "v": 71}, "190": {"t": "2017-02-16 23:00:00", "v": 0}, "99": {"t": "2017-02-15 01:30:00", "v": 0}, "98": {"t": "2017-02-15 01:00:00", "v": 0}, "168": {"t": "2017-02-16 12:00:00", "v": 0}, "169": {"t": "2017-02-16 12:30:00", "v": 0}, "229": {"t": "2017-02-17 18:30:00", "v": 0}, "228": {"t": "2017-02-17 18:00:00", "v": 0}, "91": {"t": "2017-02-14 21:30:00", "v": 0}, "90": {"t": "2017-02-14 21:00:00", "v": 0}, "93": {"t": "2017-02-14 22:30:00", "v": 0}, "92": {"t": "2017-02-14 22:00:00", "v": 0}, "95": {"t": "2017-02-14 23:30:00", "v": 0}, "94": {"t": "2017-02-14 23:00:00", "v": 0}, "97": {"t": "2017-02-15 00:30:00", "v": 0}, "96": {"t": "2017-02-15 00:00:00", "v": 0}, "11": {"t": "2017-02-13 05:30:00", "v": 0}, "10": {"t": "2017-02-13 05:00:00", "v": 0}, "13": {"t": "2017-02-13 06:30:00", "v": 0}, "12": {"t": "2017-02-13 06:00:00", "v": 0}, "15": {"t": "2017-02-13 07:30:00", "v": 0}, "14": {"t": "2017-02-13 07:00:00", "v": 0}, "17": {"t": "2017-02-13 08:30:00", "v": 0}, "16": {"t": "2017-02-13 08:00:00", "v": 0}, "19": {"t": "2017-02-13 09:30:00", "v": 0}, "18": {"t": "2017-02-13 09:00:00", "v": 0}, "314": {"t": "2017-02-19 13:00:00", "v": 64}, "117": {"t": "2017-02-15 10:30:00", "v": 0}, "116": {"t": "2017-02-15 10:00:00", "v": 0}, "270": {"t": "2017-02-18 15:00:00", "v": 61}, "274": {"t": "2017-02-18 17:00:00", "v": 26}, "204": {"t": "2017-02-17 06:00:00", "v": 0}, "224": {"t": "2017-02-17 16:00:00", "v": 0}, "275": {"t": "2017-02-18 17:30:00", "v": 22}, "151": {"t": "2017-02-16 03:30:00", "v": 0}, "150": {"t": "2017-02-16 03:00:00", "v": 0}, "153": {"t": "2017-02-16 04:30:00", "v": 0}, "152": {"t": "2017-02-16 04:00:00", "v": 0}, "155": {"t": "2017-02-16 05:30:00", "v": 0}, "154": {"t": "2017-02-16 05:00:00", "v": 0}, "157": {"t": "2017-02-16 06:30:00", "v": 0}, "156": {"t": "2017-02-16 06:00:00", "v": 0}, "159": {"t": "2017-02-16 07:30:00", "v": 0}, "158": {"t": "2017-02-16 07:00:00", "v": 0}, "277": {"t": "2017-02-18 18:30:00", "v": 34}, "234": {"t": "2017-02-17 21:00:00", "v": 72}, "322": {"t": "2017-02-19 17:00:00", "v": 0}, "238": {"t": "2017-02-17 23:00:00", "v": 69}, "239": {"t": "2017-02-17 23:30:00", "v": 44}, "227": {"t": "2017-02-17 17:30:00", "v": 0}, "279": {"t": "2017-02-18 19:30:00", "v": 43}, "207": {"t": "2017-02-17 07:30:00", "v": 0}, "235": {"t": "2017-02-17 21:30:00", "v": 73}, "236": {"t": "2017-02-17 22:00:00", "v": 85}, "237": {"t": "2017-02-17 22:30:00", "v": 75}, "230": {"t": "2017-02-17 19:00:00", "v": 36}, "231": {"t": "2017-02-17 19:30:00", "v": 46}, "232": {"t": "2017-02-17 20:00:00", "v": 50}, "233": {"t": "2017-02-17 20:30:00", "v": 30}, "end": "2017-02-19 23:30:00", "280": {"t": "2017-02-18 20:00:00", "v": 72}, "48": {"t": "2017-02-14 00:00:00", "v": 0}, "49": {"t": "2017-02-14 00:30:00", "v": 0}, "46": {"t": "2017-02-13 23:00:00", "v": 0}, "47": {"t": "2017-02-13 23:30:00", "v": 0}, "44": {"t": "2017-02-13 22:00:00", "v": 0}, "45": {"t": "2017-02-13 22:30:00", "v": 0}, "42": {"t": "2017-02-13 21:00:00", "v": 0}, "43": {"t": "2017-02-13 21:30:00", "v": 0}, "40": {"t": "2017-02-13 20:00:00", "v": 0}, "41": {"t": "2017-02-13 20:30:00", "v": 0}, "1": {"t": "2017-02-13 00:30:00", "v": 0}, "323": {"t": "2017-02-19 17:30:00", "v": 0}, "320": {"t": "2017-02-19 16:00:00", "v": 0}, "321": {"t": "2017-02-19 16:30:00", "v": 0}, "5": {"t": "2017-02-13 02:30:00", "v": 0}, "327": {"t": "2017-02-19 19:30:00", "v": 0}, "324": {"t": "2017-02-19 18:00:00", "v": 0}, "325": {"t": "2017-02-19 18:30:00", "v": 0}, "9": {"t": "2017-02-13 04:30:00", "v": 0}, "328": {"t": "2017-02-19 20:00:00", "v": 0}, "329": {"t": "2017-02-19 20:30:00", "v": 0}, "335": {"t": "2017-02-19 23:30:00", "v": 0}, "272": {"t": "2017-02-18 16:00:00", "v": 38}, "week": 8, "147": {"t": "2017-02-16 01:30:00", "v": 0}, "begin": "2017-02-13 00:00:00", "145": {"t": "2017-02-16 00:30:00", "v": 0}, "142": {"t": "2017-02-15 23:00:00", "v": 0}, "143": {"t": "2017-02-15 23:30:00", "v": 0}, "140": {"t": "2017-02-15 22:00:00", "v": 0}, "141": {"t": "2017-02-15 22:30:00", "v": 0}, "209": {"t": "2017-02-17 08:30:00", "v": 0}, "208": {"t": "2017-02-17 08:00:00", "v": 0}, "148": {"t": "2017-02-16 02:00:00", "v": 0}, "149": {"t": "2017-02-16 02:30:00", "v": 0}, "77": {"t": "2017-02-14 14:30:00", "v": 0}, "76": {"t": "2017-02-14 14:00:00", "v": 0}, "75": {"t": "2017-02-14 13:30:00", "v": 0}, "74": {"t": "2017-02-14 13:00:00", "v": 0}, "73": {"t": "2017-02-14 12:30:00", "v": 0}, "72": {"t": "2017-02-14 12:00:00", "v": 0}, "71": {"t": "2017-02-14 11:30:00", "v": 0}, "70": {"t": "2017-02-14 11:00:00", "v": 0}, "278": {"t": "2017-02-18 19:00:00", "v": 26}, "79": {"t": "2017-02-14 15:30:00", "v": 0}, "78": {"t": "2017-02-14 15:00:00", "v": 0}, "263": {"t": "2017-02-18 11:30:00", "v": 54}, "249": {"t": "2017-02-18 04:30:00", "v": 5}, "262": {"t": "2017-02-18 11:00:00", "v": 31}, "261": {"t": "2017-02-18 10:30:00", "v": 34}, "250": {"t": "2017-02-18 05:00:00", "v": 23}, "260": {"t": "2017-02-18 10:00:00", "v": 59}, "267": {"t": "2017-02-18 13:30:00", "v": 61}, "326": {"t": "2017-02-19 19:00:00", "v": 0}, "266": {"t": "2017-02-18 13:00:00", "v": 55}}


var cordy = ["Mon", "Tues", "Wed", "Thur", "Fri", "Sat", "Sun"]
var cordx = ["00:00", "00:30", "01:00", "01:30", "02:00", "02:30", "03:00", "03:30","04:00", "04:30", "05:00", "05:30", "06:00", "06:30", "07:00", "07:30",
             "08:00", "08:30", "09:00", "09:30", "10:00", "10:30", "11:00", "11:30","12:00", "12:30", "13:00", "13:30", "14:00", "14:30", "15:00", "15:30",
             "16:00", "16:30", "17:00", "17:30", "18:00", "18:30", "19:00", "19:30","20:00", "20:30", "21:00", "21:30", "22:00", "22:30", "23:00", "23:30",
            ]
var svg = d3.select("#user-calendar0")
    .append("div")
    .attr("class", "week-calendar")
    .style("width", w + m[1] + m[3] + "px")
    .style("height", h + m[0] + m[2] + "px")
    .style("display", "inline-block")
    .append("svg:svg")
    .attr("width", w + m[1] + m[3])
    .attr("height", h + m[0] + m[2])
    .attr("class", "RdYlGn")
    .append("svg:g")
    .attr("transform", "translate(" + 30 + "," + (m[0] + (h - z * 7) / 2) + ")");



svg.selectAll("cordy")
    .data(cordy)
    .enter().append("svg:text")
    .attr("transform", function(d, i){return "translate(0," + (tp + 12 * (i + 1) - 4) + ")";})
    .attr("text-anchor", "middle")
    .attr("fill", "#7092be")
    .attr("font-size", "8pt")
    .text(function(d){return d;});


svg.selectAll("cordx")
    .data(cordx)
    .enter().append("svg:text")
    .attr("transform", function(d, i){return "translate(" + (lp + 12 * (i + 1) - 4) + ", 0)rotate(-90)";})
    .attr("text-anchor", "middle")
    .attr("fill", "#7092be")
    .attr("font-size", "8pt")
    .text(function(d){return d;});


var rect = svg.selectAll("rect.halfhour")
    .data(function() { return d3.range(0, 48*7) })
    .enter().append("svg:rect")
    .attr("class", "halfhour")
    .attr("width", cz)
    .attr("height", cz)
    .attr("x", function(d) { return lp + halfhour(d)*z; })
    .attr("y", function(d) { return (day(d)-1)*z + tp; });



var getactivelevel = function(d){
    return Math.ceil(d/30)
}

d3.select("#user-calendar0").selectAll("rect.halfhour")
        .attr("class", function(d) { return "halfhour alevel" + getactivelevel(dataset[d]); })


d3.select("#user-calendar0").selectAll("rect.halfhour")
        .attr("class", function(d) { return "halfhour alevel" + getactivelevel(dataset2[d]); })

d3.select("#user-calendar0").selectAll("rect.halfhour")
        .attr("class", function(d) { return "halfhour alevel" + getactivelevel(dicdata[d]['v']); })




</script>

</html>
